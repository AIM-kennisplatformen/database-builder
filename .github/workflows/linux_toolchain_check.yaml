name: Linux unit-test

on:
  push:
    branches:
      - main
  pull_request:
  workflow_dispatch: {}
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4
      
      - name: Install Pixi
        uses: prefix-dev/setup-pixi@v0.8.3
 
      - name: Unit-test in Pixi environment
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        shell: pixi run bash -e {0}
        run: |
          pytest
